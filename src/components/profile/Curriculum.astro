---
import Download from '@components/icons/Download.astro';
import Hand from '../icons/Hand.astro';
---

<button class='download-container flex flex-start gap-4'>
  <div class='qr-code'>
    <qr-code
      id='qrCV'
      contents='https://blog.bitjson.com/cashtokens-v2/'
      module-color='var(--color-100)'
      position-ring-color='var(--color-100)'
      position-center-color='var(--global-color)'
    >
    </qr-code>
  </div>
  <div class='cv-container flex flex-column flex-start gap-2'>
    <h4 class='download-cv-title'>DOWNLOAD MY CV</h4>
    <p class='download-cv-text'>
      Scan the QR or click here to download it.
      <!--<Hand size={{ width: 20, height: 20 }} />-->
    </p>
  </div>
  <div class='download-button'>
    <Download size={{ width: 20, height: 20 }} />
  </div>
</button>

<script>
  import * as qr from '@bitjson/qr-code';

  qr.defineCustomElements(window);
  document.getElementById('qrCV')?.addEventListener('codeRendered', () => {
    document.getElementById('qrCV')?.animateQRCode('FadeInCenterOut');
  });
</script>

<style>
  .download-container {
    position: relative;
    padding: var(--space-4);
    border-radius: var(--border-4);
    border: 2px solid var(--color-100);
    margin-top: var(--space-6);
    box-shadow: var(--card-shadow);
    width: 100%;
  }
  .download-cv-title {
    color: var(--color-100);
  }
  .download-cv-text {
    color: var(--color-500);
    font-size: var(--font-size-base);
    text-align: start;
  }
  .download-button {
    position: absolute;
    right: var(--space-4);
    top: var(--space-4);
  }
  #qrCV {
    display: block;
    width: 100px;
    height: 100px;
  }

  @media (768px <= width <= 1920px) {
    #qrCV {
      width: 60px;
      height: 60px;
    }
    .download-cv-title {
      display: none;
    }
    .download-cv-text {
      font-size: var(--font-size-sm);
    }
    .download-button {
      display: none;
    }
  }
</style>
